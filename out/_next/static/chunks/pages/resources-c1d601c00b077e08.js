(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[584],{1602:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/resources",function(){return t(3445)}])},3540:function(e,n,t){"use strict";t.d(n,{Z:function(){return x}});var r=t(7568),a=t(6042),i=t(9396),o=t(4051),s=t.n(o),u=t(5893),c=t(9473),d=t(3830),l=t(9515),m=t(7532),v=t(7294),f=t(8975),p=t(6448),y=t(4868),g=t(4568),h={resourceName:{required:{value:!0,message:g.Z.isEmpty},pattern:{type:"name",message:g.Z.isText}},experience:{required:{value:!0,message:g.Z.isEmpty},pattern:{type:"positiveFloat",message:g.Z.isNumber}},vendorCosting:{pattern:{type:"positiveNonzeroFloat",message:g.Z.isNonzeroNumber}},contactNumber:{pattern:{type:"mobile",message:g.Z.isMobile}},emailId:{pattern:{type:"email",message:g.Z.isEmail}},technology:{required:{value:!0,message:g.Z.isEmpty}},vendor:{required:{value:!0,message:g.Z.isEmpty}},resume:{required:{value:!0,message:g.Z.isEmpty}},availability:{required:{value:!0,message:g.Z.isEmpty}}},b=t(1627),Z=t(1163),x=function(e){var n=e.resourceClassName,t=e.prefilledVals,o=e.setUpdateData,g=(0,c.I0)(),x=(0,v.useState)({}),N=x[0],k=x[1],w=(0,c.v9)((function(e){return e.vendor})).vendorArray,C=(0,c.v9)((function(e){return e.common})),E=(0,c.v9)((function(e){return e.vendor})),_=(0,Z.useRouter)().query.id,j=(0,v.useState)({}),A=j[0],S=j[1],O=function(){var e=[],n={id:"",name:""},t={};return w.map((function(r){t=(0,i.Z)((0,a.Z)({},n),{id:r._id,name:r.companyName}),e.push(t)})),e}(),q=(0,y.It)(null===C||void 0===C?void 0:C.expertiseArray),F=t||_&&A;(0,v.useEffect)((function(){0===E.vendorArray.length&&g((0,f.mA)()),0===C.expertiseArray.length&&g((0,p.Fy)()),o&&o(!1)}),[]),(0,v.useEffect)((function(){C.newEntry&&g((0,f.mA)())}),[C.newEntry]),(0,v.useEffect)((function(){(0,r.Z)(s().mark((function e(){var n,t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!_){e.next=6;break}return n={resourceId:_},e.next=4,g((0,d.W7)(n));case 4:t=e.sent,S((0,i.Z)((0,a.Z)({},null===t||void 0===t?void 0:t.data[0]),{vendor:t.data[0].vendor.companyName}));case 6:case"end":return e.stop()}}),e)})))()}),[_]);var I=function(){var e=(0,r.Z)(s().mark((function e(n){var t,r,o,u;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object.keys(n).map((function(e){""===n[e]&&delete n[e]})),t=O.find((function(e){return e.name===n.vendor})),r=(0,i.Z)((0,a.Z)({},n),{vendor:null===t||void 0===t?void 0:t.id}),g((0,p.nF)()),o=(0,y.ux)(r),e.next=7,g((0,d.qL)(o));case 7:u=e.sent,k(u);case 9:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),D=function(){var e=(0,r.Z)(s().mark((function e(n){var t,r,a,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r={},Object.keys(n).map((function(e){""===n[e]&&delete n[e],(""===F[e]||"vendorCosting"===e&&0===F[e])&&delete F[e],Array.isArray(n[e])?JSON.stringify(n[e])!==JSON.stringify(F[e])&&(r[e]=n[e]):n[e]!==F[e]&&(r[e]=n[e])})),a=O.find((function(e){return e.name===(null===r||void 0===r?void 0:r.vendor)})),a&&(r.vendor=null===a||void 0===a?void 0:a.id),r.id=F._id,_&&1===Object.keys(r).length?g((0,p.U)({title:"",description:"No entry has been updated.How do you want to proceed?",btnArray:[{variant:"secondary",onClick:function(){g((0,p.hj)())},children:"Continue editing"},{variant:"primary",onClick:function(){location.replace(location.pathname)},children:"Create new entry"}]})):_||1!==Object.keys(r).length||g((0,p.hj)()),!(Object.keys(r).length>1)){e.next=14;break}return i=(0,y.ux)(r),g((0,p.nF)()),e.next=12,g((0,d.fk)(i));case 12:(t=e.sent)&&o&&o(!0);case 14:k(t);case 15:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),T=(0,l.u4)(O,q),U=(0,l.A6)();return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(m.Z,{formHeading:"Developer details",formData:T,formColumn:2,formLabelStyle:"text-xl mb-4",headingStyle:n,btnConfig:U,initialStaticData:{resourceName:"",experience:"",vendorCosting:"",contactNumber:"",emailId:"",vendor:"",resume:"",availability:"",notes:""},initialCustomStaticData:{technology:""},updatedState:F&&{resourceName:F.resourceName,experience:F.experience,vendorCosting:0!==F.vendorCosting?F.vendorCosting:"",contactNumber:F.contactNumber,emailId:F.emailId,vendor:F.vendor,resume:F.resume,availability:F.availability,notes:F.notes},formResponse:N,customUpdatedState:F&&{technology:F.technology},submitForm:F?D:I,validations:h,acknowledgementData:b.Z})})}},3445:function(e,n,t){"use strict";t.r(n);var r=t(5893),a=t(3540),i=t(2711);n.default=function(){return(0,r.jsx)(i.Z,{children:(0,r.jsx)("div",{children:(0,r.jsx)(a.Z,{resourceClassName:"mt-20 mb-14"})})})}}},function(e){e.O(0,[997,458,711,108,774,888,179],(function(){return n=1602,e(e.s=n);var n}));var n=e.O();_N_E=n}]);